<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Herrajes | Barrio parque</title>
    <link rel="icon" href="../../inicio/assets/Logo_oficial_maderera.png" type="image/x-icon">
    <link rel="stylesheet" href="herrajes.css">
    <script src="../../menu.js"></script>
    <link rel="icon" href="../../inicio/assets/Logo_oficial_maderera.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    
<div class="header-nav-container">
<header>
  <div class="header-left">
    <button id="menuBtn" class="hamburger-menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <img src="../../inicio/assets/Logo_oficial_maderera.png" alt="Logo" class="header-logo">
    <form class="header-search" id="formBuscar">
      <input type="text" id="buscador" placeholder="Buscar productos...">
      <button type="submit" class="search-btn" aria-label="Buscar">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
          <circle cx="9" cy="9" r="7" stroke="#111" stroke-width="2"/>
          <line x1="14" y1="14" x2="18" y2="17.5" stroke="#111" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </form>
  </div>
  <div class="header-center">
    <a href="../../inicio/inicio.html" class="active">Inicio</a>
    <a href="../../acercade/acercade.html">Acerca de</a>
    <a href="../../contacto/contacto.html">Contactos</a>
  </div>
  <div class="header-right">
    <a id="logoutBtn" href="/maderera/Proyecto-final/backend/routes/logout.php" title="Cerrar sesi√≥n" style="display:none;">
      <span class="icon-circle">
        <img src="https://cdn-icons-png.flaticon.com/512/1828/1828479.png" alt="Logout" width="24" height="24" />
      </span>
    </a>
    <a href="../../../Proyecto-final/backend/routes/login.php" title="Login Usuario">
      <span class="icon-circle">
        <img src="https://cdn-icons-png.flaticon.com/512/747/747376.png" alt="Login" />
      </span>
    </a>
    <a href="/maderera/Proyecto-final/frontend/carrito/carrito.html" title="Carrito de Compras" class="carrito-link">
      <span class="icon-circle position-relative">
        <img src="https://cdn-icons-png.flaticon.com/512/1170/1170678.png" alt="Carrito"/>
        <span id="carritoBadge" class="carrito-badge">0</span>
      </span>
    </a>
  </div>
</header>

<nav class="nav-desktop">
  <a href="../../productos.html">Ferreter√≠a</a>
  <a href="../hierros/hierros.html">Hierros</a>
  <a href="../pinturas/pinturas.html">Pinturas</a>
  <a href="../maderas/maderas.html">Maderas</a>
  <a href="herrajes.html">Herrajes</a>
  <a href="../cons_en_seco/cons_en_seco.html">Cons en seco</a>
</nav>

<nav class="menu-mobile" id="menuMobile">
  <div class="menu-section">
    <h3>Categor√≠as</h3>
    <div class="menu-items">
      <a href="/maderera/Proyecto-final/frontend/productos.html">Ferreter√≠a</a>
      <a href="../hierros/hierros.html">Hierros</a>
      <a href="../pinturas/pinturas.html">Pinturas</a>
      <a href="../maderas/maderas.html">Maderas</a>
      <a href="../herrajes/herrajes.html">Herrajes</a>
      <a href="../cons_en_seco/cons_en_seco.html">Cons en seco</a>
    </div>
  </div>
  <div class="menu-section">
    <h3>Apartados</h3>
    <div class="menu-items">
      <a href="../../inicio/inicio.html" class="active">Inicio</a>
      <a href="../../acercade/acercade.html">Acerca de</a>
      <a href="../../contacto/contacto.html">Contactos</a>
    </div>
  </div>
</nav>
</div>


<button id="filtrosBtn" class="filtros-toggle-btn">
  <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
    <line x1="3" y1="5" x2="17" y2="5" stroke="white" stroke-width="2"/>
    <circle cx="8" cy="5" r="2" fill="#1d6b1d" stroke="white" stroke-width="2"/>
    <line x1="3" y1="10" x2="17" y2="10" stroke="white" stroke-width="2"/>
    <circle cx="13" cy="10" r="2" fill="#1d6b1d" stroke="white" stroke-width="2"/>
    <line x1="3" y1="15" x2="17" y2="15" stroke="white" stroke-width="2"/>
    <circle cx="6" cy="15" r="2" fill="#1d6b1d" stroke="white" stroke-width="2"/>
  </svg>
  Filtros
</button>

<a href="https://api.whatsapp.com/send?phone=59898729051" class="btn-wsp" target="_blank" aria-label="WhatsApp">
  <i class="icon-whatsapp"></i>
</a>

<div class="categoria-header">
  <h1>Herrajes</h1>
  <p>Encuentra todo lo que necesitas para tus proyectos</p>
</div>

<div class="main-flex">
  <aside class="filtro-lateral" id="filtroLateral">
    <h3>Filtrar por Marca</h3>
    <div id="filtroMarcas"></div>
    <button onclick="limpiarFiltroMarca()" style="margin-top:10px;">Ver todas</button>
  </aside>
  
  <div style="flex:1;">
    <div id="productosContainer"></div>
  </div>
</div>


<script>const categoriaActual = 7;</script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="/maderera/Proyecto-final/frontend/js/producto.js"></script>
<script src="/maderera/Proyecto-final/frontend/carrito/carrito.js"></script>
<script>
  initProductos();
  contarCarrito();

  const filtrosBtn = document.getElementById("filtrosBtn");
  const filtroLateral = document.getElementById("filtroLateral");

  if (filtrosBtn && filtroLateral) {
    filtrosBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      filtroLateral.classList.toggle("active");
      filtrosBtn.classList.toggle("active");
    });

    document.addEventListener("click", (e) => {
      if (!filtroLateral.contains(e.target) && !filtrosBtn.contains(e.target)) {
        filtroLateral.classList.remove("active");
        filtrosBtn.classList.remove("active");
      }
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && filtroLateral.classList.contains("active")) {
        filtroLateral.classList.remove("active");
        filtrosBtn.classList.remove("active");
      }
    });
  }
</script>


<div id="modalFormulario" class="modal">
  <div class="modal-content">
    <span class="close" onclick="cerrarModalFormulario()">&times;</span>
    <h2>Editar Producto</h2>
    <form id="formProductoModal" onsubmit="event.preventDefault();">
      <input type="hidden" id="idProductoModal">
      <label>C√≥digo:
        <input type="number" id="codigoProductoModal" required>
      </label>
      <label>Nombre:
        <input type="text" id="nombreProductoModal" required>
      </label>
      <label>Precio:
        <input type="number" step="0.01" id="precioProductoModal" required>
      </label>
      <label>Stock:
        <input type="number" id="stockProductoModal" required>
      </label>
      <label>Descripci√≥n:
        <input type="text" id="descripcionProductoModal" required>
      </label>
      <label>Categor√≠a:
        <select id="categoriaProductoModal" required>
          <option value="">Seleccionar</option>
          <option value="1">Ferreter√≠a</option>
          <option value="2">Hierro</option>
          <option value="5">Pinturas</option>
          <option value="6">Maderas</option>
          <option value="7" selected>Herrajes</option>
          <option value="8">Cons en seco</option>
        </select>
      </label>
      <label>Marca:
        <input type="text" id="marcaProductoModal" required>
      </label>
      <div style="margin-top:12px;">
        <button type="button" id="btnGuardarModal">Guardar Cambios</button>
      </div>
    </form>
  </div>
</div>

<div class="toast-container position-fixed bottom-0 end-0 p-3">
  <div id="liveToast" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body">
        ‚úÖ Producto agregado al carrito
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Cerrar"></button>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<footer>
  <div class="footer-container">
    <div class="footer-logo">
      <img src="../../inicio/assets/Logo_oficial_maderera.png" alt="Logo Maderera Barrio Parque">
      <h4>Barrio Parque</h4>
      <p>Mucho m√°s que una maderera</p>
    </div>
    <div class="footer-links">
      <h4>Enlaces</h4>
      <ul>
        <li><a href="../../inicio/inicio.html">Inicio</a></li>
        <li><a href="../../acercade/acercade.html">Acerca de</a></li>
        <li><a href="../../contacto/contacto.html">Contacto</a></li>
      </ul>
    </div>
    <div class="footer-contact">
      <h4>Contacto</h4>
      <p>Tel: +598 99 123 456</p>
      <p>Horario: Lunes a Viernes 08:00‚Äì18:00 ¬∑ S√°bados 08:00‚Äì13:00</p>
    </div>
    <div class="footer-social">
      <h4>Seguinos</h4>
      <div class="social-icons">
        <a href="https://www.facebook.com/p/Maderera-Barrio-Parque-100044770196275/?locale=es_LA" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook"></a>
        <a href="https://www.instagram.com/maderera.barrioparque/" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" alt="Instagram"></a>
        <a href="https://api.whatsapp.com/send?phone=59898729051" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/3670/3670051.png" alt="WhatsApp"></a>
      </div>
    </div>
  </div>
  <div class="footer-bottom">
    <p>&copy; 2025 Barrio Parque - Todos los derechos reservados.</p>
  </div>
</footer>
</body>
<script>
document.addEventListener("DOMContentLoaded", () => {
  fetch("/maderera/Proyecto-final/backend/routes/get_user.php")
    .then(res => res.json())
    .then(data => {
      console.log("üîç Datos de sesi√≥n:", data);
      if (data.logueado) {
        document.getElementById("logoutBtn").style.display = "inline-block";
        console.log("‚úÖ Sesi√≥n activa, bot√≥n visible");
      } else {
        console.log("‚ùå No hay sesi√≥n activa");
      }
    })
    .catch(err => console.error("‚ö†Ô∏è Error al verificar sesi√≥n:", err));
});
</script>
</html>
